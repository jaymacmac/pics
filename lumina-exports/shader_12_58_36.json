{
  "name": "Shader-12:58:36",
  "prompt": "Procedural Shader Snapshot",
  "code": "\n\nuniform float iTime;\nuniform vec2 iResolution;\nuniform vec4 iMouse;\nuniform sampler2D iChannel0;\n\n// User Parameters\nuniform float u_speed;\nuniform float u_morph;\nuniform float u_camera_dist;\n\nout vec4 fragColor;\n\n// --- Math & Utilities ---\nmat2 rot(float a) {\n    float s = sin(a), c = cos(a);\n    return mat2(c, -s, s, c);\n}\n\nfloat smin(float a, float b, float k) {\n    float h = clamp(0.5 + 0.5 * (b - a) / k, 0.0, 1.0);\n    return mix(b, a, h) - k * h * (1.0 - h);\n}\n\n// Fractal noise for the \"Desert of the Mind\"\nfloat hash(vec2 p) {\n    return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453123);\n}\n\nfloat noise(vec2 p) {\n    vec2 i = floor(p);\n    vec2 f = fract(p);\n    vec2 u = f * f * (3.0 - 2.0 * f);\n    return mix(mix(hash(i + vec2(0.0, 0.0)), hash(i + vec2(1.0, 0.0)), u.x),\n               mix(hash(i + vec2(0.0, 1.0)), hash(i + vec2(1.0, 1.0)), u.x), u.y);\n}\n\n// --- Geometry ---\n\n// The \"Melting Clock\" or \"Soft Object\"\nfloat sdSoftClock(vec3 p) {\n    p.xy *= rot(p.z * 0.1);\n    // Distort p to look \"melted\"\n    p.y += sin(p.x * 2.0 + iTime) * 0.2 * u_morph;\n    p.x += cos(p.z * 0.5) * 0.5;\n    \n    vec3 p1 = p;\n    p1.z = mod(p1.z, 20.0) - 10.0; // Repeat clocks\n    \n    // Flattened ellipsoid \"melted\" over an invisible edge\n    float d = length(p1 * vec3(1.0, 2.0, 0.5)) - 1.5;\n    return d * 0.6;\n}\n\n// The \"Long-legged Elephant\" or \"Stilt Walkers\"\nfloat sdElephantLegs(vec3 p) {\n    vec2 path = vec2(sin(p.z * 0.1), cos(p.z * 0.1)) * 3.0;\n    vec3 p_leg = p;\n    p_leg.xy -= path;\n    \n    // Create 4 thin stilts\n    vec2 grid = sign(mod(p_leg.xz, 4.0) - 2.0);\n    vec3 p_stilt = p_leg;\n    p_stilt.xz = mod(p_stilt.xz, 4.0) - 2.0;\n    \n    float legs = length(p_stilt.xz) - 0.02 * (p_stilt.y + 10.0);\n    return max(legs, -p.y - 5.0); // Legs end at floor\n}\n\n// Scene Mapping\nfloat map(vec3 p) {\n    // Floor\n    float desert = p.y + 2.0 + noise(p.xz * 0.2) * 0.5;\n    \n    // Floating soft structures\n    float clocks = sdSoftClock(p + vec3(2.0, -1.0, 0.0));\n    \n    // Surreal Stilts\n    float stilts = sdElephantLegs(p);\n    \n    return smin(desert, smin(clocks, stilts, 1.0), 0.5);\n}\n\n// Normal Calculation\nvec3 getNormal(vec3 p) {\n    vec2 e = vec2(0.01, 0.0);\n    return normalize(vec3(\n        map(p + e.xyy) - map(p - e.xyy),\n        map(p + e.yxy) - map(p - e.yxy),\n        map(p + e.yyx) - map(p - e.yyx)\n    ));\n}\n\nvoid main() {\n    vec2 uv = (gl_FragCoord.xy - 0.5 * iResolution.xy) / iResolution.y;\n    float t = iTime * u_speed;\n\n    // --- Camera System (Dali-esque Parallel Rail) ---\n    // Path of the dream\n    vec3 ro = vec3(u_camera_dist * cos(t * 0.1), 1.5 + sin(t * 0.2), t);\n    vec3 ta = vec3(0.0, 0.0, t + 5.0); \n    \n    // Look-at Matrix\n    vec3 cw = normalize(ta - ro);\n    vec3 cu = normalize(cross(cw, vec3(0, 1, 0)));\n    vec3 cv = normalize(cross(cu, cw));\n    vec3 rd = normalize(uv.x * cu + uv.y * cv + 1.5 * cw);\n\n    // --- Raymarching ---\n    float d = 0.0, t_dist = 0.0;\n    for(int i = 0; i < 100; i++) {\n        vec3 p = ro + rd * t_dist;\n        d = map(p);\n        if(d < 0.001 || t_dist > 60.0) break;\n        t_dist += d;\n    }\n\n    // --- Shading ---\n    vec3 col = vec3(0.0);\n    \n    // \"Golden Hour\" Surreal Sky\n    vec3 skyTop = vec3(0.1, 0.4, 0.8);\n    vec3 skyBot = vec3(0.9, 0.6, 0.3);\n    col = mix(skyBot, skyTop, clamp(rd.y + 0.2, 0.0, 1.0));\n    \n    if(t_dist < 60.0) {\n        vec3 p = ro + rd * t_dist;\n        vec3 n = getNormal(p);\n        vec3 lightPos = vec3(10.0, 20.0, t + 10.0);\n        vec3 l = normalize(lightPos - p);\n        \n        float diff = max(dot(n, l), 0.0);\n        float spec = pow(max(dot(reflect(-l, n), -rd), 0.0), 32.0);\n        float amb = 0.2;\n        \n        // Coloring based on height and type\n        vec3 objCol = vec3(0.8, 0.7, 0.5); // Desert sand\n        if (p.y > -1.5) objCol = vec3(0.7, 0.8, 0.9); // Melting objects (blueish steel/clock)\n        if (length(p.xz - vec2(sin(p.z*0.1), cos(p.z*0.1))*3.0) < 0.5) objCol = vec3(0.2, 0.1, 0.05); // Legs\n        \n        col = objCol * (diff + amb) + spec * 0.5;\n        \n        // Atmosphere/Fog\n        col = mix(col, skyBot, 1.0 - exp(-0.02 * t_dist));\n    }\n    \n    // Dreamy post-processing\n    col *= 1.2; // Brightness\n    col = pow(col, vec3(0.9)); // Saturation boost\n    col = mix(col, vec3(dot(col, vec3(0.33))), -0.2); // Contrast\n    \n    // Vignette\n    col *= 1.0 - dot(uv, uv) * 0.4;\n\n    fragColor = vec4(col, 1.0);\n}",
  "parameters": [
    {
      "name": "u_speed",
      "label": "Dream Drift Speed",
      "type": "float",
      "default": 1.5,
      "min": 0,
      "max": 5
    },
    {
      "name": "u_morph",
      "label": "Melting Intensity",
      "type": "float",
      "default": 1,
      "min": 0,
      "max": 3
    },
    {
      "name": "u_camera_dist",
      "label": "Parallax Distance",
      "type": "float",
      "default": 7,
      "min": 3,
      "max": 15
    }
  ],
  "textureUrl": null
}