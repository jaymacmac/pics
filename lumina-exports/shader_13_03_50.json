{
  "name": "Shader-13:03:50",
  "prompt": "Procedural Shader Snapshot",
  "code": "\n\nuniform float iTime;\nuniform vec2 iResolution;\nuniform vec4 iMouse;\nuniform sampler2D iChannel0;\n\n// Parameter uniforms\nuniform float u_speed;\nuniform float u_camera_dist;\nuniform float u_fov;\nuniform float u_glow_intensity;\n\nout vec4 fragColor;\n\n// --- UTILS ---\nmat2 rot(float a) {\n    float s = sin(a), c = cos(a);\n    return mat2(c, -s, s, c);\n}\n\n// 3D Noise for organic movement\nfloat hash(vec3 p) {\n    p = fract(p * 0.3183099 + 0.1);\n    p *= 17.0;\n    return fract(p.x * p.y * p.z * (p.x + p.y + p.z));\n}\n\nfloat noise(vec3 x) {\n    vec3 i = floor(x);\n    vec3 f = fract(x);\n    f = f * f * (3.0 - 2.0 * f);\n    return mix(mix(mix(hash(i + vec3(0, 0, 0)), hash(i + vec3(1, 0, 0)), f.x),\n                   mix(hash(i + vec3(0, 1, 0)), hash(i + vec3(1, 1, 0)), f.x), f.y),\n               mix(mix(hash(i + vec3(0, 0, 1)), hash(i + vec3(1, 0, 1)), f.x),\n                   mix(hash(i + vec3(0, 1, 1)), hash(i + vec3(1, 1, 1)), f.x), f.y), f.z);\n}\n\n// --- WORLD PATH ---\nvec2 getPath(float z) {\n    return vec2(sin(z * 0.15), cos(z * 0.1)) * 3.5;\n}\n\n// --- SDF GEOMETRY ---\nfloat sdCapsule(vec3 p, vec3 a, vec3 b, float r) {\n    vec3 pa = p - a, ba = b - a;\n    float h = clamp(dot(pa, ba) / dot(ba, ba), 0.0, 1.0);\n    return length(pa - ba * h) - r;\n}\n\n// Global variable to store glow accumulation\nfloat g_glow = 0.0;\nfloat g_bio_pulse = 0.0;\n\nfloat map(vec3 p) {\n    vec3 p_orig = p;\n    p.xy -= getPath(p.z);\n    \n    // The \"Bioluminescent Vines\"\n    float d = 1e10;\n    \n    // Create a twisted, organic central structure\n    vec3 p_vines = p;\n    float angle = p.z * 0.4 + iTime * 0.2;\n    p_vines.xy *= rot(angle);\n    \n    // Main \"Spirit Tree\" strands\n    for(float i = 0.0; i < 3.0; i++) {\n        vec3 p_i = p_vines;\n        p_i.xy *= rot(i * 2.094); // 120 degrees\n        p_i.x -= 1.2 + sin(p.z * 0.5 + iTime) * 0.3;\n        \n        // Wavy organic lines\n        float wave = sin(p_i.z * 1.5 + iTime) * 0.15;\n        float dist_strand = length(p_i.xy + vec2(wave, 0.0)) - (0.05 + 0.04 * sin(p.z * 2.0));\n        \n        // Add \"Nodes\" (blooming bioluminescence)\n        float node_z = floor(p.z * 0.8) / 0.8;\n        vec3 p_node = p_i;\n        p_node.z = mod(p_node.z, 1.25) - 0.625;\n        float dist_node = length(p_node) - 0.12;\n        \n        float current_strand = min(dist_strand, dist_node);\n        d = min(d, current_strand);\n        \n        // Accumulate glow based on proximity to these strands\n        g_glow += 0.005 / (0.01 + pow(abs(current_strand), 1.8));\n    }\n    \n    // Distant \"dream particles\"\n    float noise_val = noise(p_orig * 0.5 + iTime * 0.1);\n    d = min(d, 4.0 - noise_val * 2.5); // Bound the scene in a fuzzy \"dream\" cave\n    \n    return d * 0.7;\n}\n\n// Normal calculation\nvec3 getNormal(vec3 p) {\n    vec2 e = vec2(0.001, 0);\n    return normalize(vec3(\n        map(p + e.xyy) - map(p - e.xyy),\n        map(p + e.yxy) - map(p - e.yxy),\n        map(p + e.yyx) - map(p - e.yyx)\n    ));\n}\n\nvoid main() {\n    // 1. Setup Coordinates\n    vec2 uv = (gl_FragCoord.xy - 0.5 * iResolution.xy) / iResolution.y;\n    vec2 mouse = iMouse.xy / iResolution.xy;\n    \n    float t = iTime * u_speed;\n    g_bio_pulse = 0.5 + 0.5 * sin(iTime * 1.5);\n    \n    // 2. PARALLEL RAIL CAMERA\n    // Follow a path but stay offset for a cinematic \"orbital fly-by\"\n    vec3 pathPos = vec3(0.0, 0.0, t);\n    pathPos.xy += getPath(pathPos.z);\n    \n    // The camera orbits the path\n    float orbitAngle = t * 0.1 + mouse.x * 2.0;\n    vec2 railVec = vec2(cos(orbitAngle), sin(orbitAngle)) * u_camera_dist;\n    \n    vec3 ro = pathPos;\n    ro.xy += railVec;\n    \n    // Look ahead at the path, but keep the focus slightly inward\n    vec3 ta = vec3(0.0, 0.0, t + 8.0);\n    ta.xy += getPath(ta.z) + railVec * 0.5;\n    \n    // Camera Matrix\n    vec3 fwd = normalize(ta - ro);\n    vec3 right = normalize(cross(vec3(0, 1, 0), fwd));\n    vec3 up = cross(fwd, right);\n    vec3 rd = normalize(fwd * u_fov + uv.x * right + uv.y * up);\n    \n    // 3. RAYMARCHING\n    float d = 0.0, t_dist = 0.0;\n    for(int i = 0; i < 100; i++) {\n        vec3 p = ro + rd * t_dist;\n        d = map(p);\n        if(d < 0.001 || t_dist > 40.0) break;\n        t_dist += d;\n    }\n    \n    // 4. COLORING & LIGHTING\n    vec3 scene_pos = ro + rd * t_dist;\n    vec3 col = vec3(0.0);\n    \n    // Background dream fog\n    vec3 sky_color = mix(vec3(0.02, 0.0, 0.05), vec3(0.05, 0.1, 0.15), uv.y + 0.5);\n    col = sky_color;\n\n    if(t_dist < 40.0) {\n        vec3 n = getNormal(scene_pos);\n        vec3 light_dir = normalize(vec3(1, 2, -1));\n        \n        // Simple lighting\n        float diff = max(dot(n, light_dir), 0.0);\n        float fresnel = pow(1.0 - max(dot(n, -rd), 0.0), 4.0);\n        \n        // Deep teal base\n        vec3 base_col = vec3(0.05, 0.15, 0.2);\n        col = base_col * diff;\n        col += vec3(0.2, 0.6, 1.0) * fresnel * 0.5;\n    }\n    \n    // Apply Accumulated Glow (Bioluminescence)\n    // Shift glow color based on Z position for variety\n    vec3 glow_color = mix(\n        vec3(0.0, 0.8, 1.0), // Electric Blue\n        vec3(0.8, 0.2, 1.0), // Ethereal Purple\n        0.5 + 0.5 * sin(scene_pos.z * 0.1)\n    );\n    \n    // Add glowing \"floating spores\" in post-process\n    float spores = pow(noise(ro + rd * 2.0 + iTime * 0.5), 10.0) * 2.0;\n    \n    col += glow_color * g_glow * 0.015 * u_glow_intensity;\n    col += vec3(0.7, 1.0, 0.8) * spores * g_bio_pulse;\n    \n    // 5. POST-PROCESSING\n    // Soft vignette\n    col *= 1.0 - dot(uv, uv) * 0.4;\n    \n    // Cinematic tone mapping\n    col = smoothstep(0.0, 1.1, col);\n    col = pow(col, vec3(0.4545)); // Gamma correction\n    \n    fragColor = vec4(col, 1.0);\n}",
  "parameters": [
    {
      "name": "u_speed",
      "label": "Fly Speed",
      "type": "float",
      "default": 3,
      "min": 0,
      "max": 10
    },
    {
      "name": "u_camera_dist",
      "label": "Orbit Distance",
      "type": "float",
      "default": 6.5,
      "min": 4,
      "max": 12
    },
    {
      "name": "u_fov",
      "label": "Camera FOV",
      "type": "float",
      "default": 1.2,
      "min": 0.5,
      "max": 2.5
    },
    {
      "name": "u_glow_intensity",
      "label": "Bioluminescence",
      "type": "float",
      "default": 1.5,
      "min": 0,
      "max": 5
    }
  ],
  "textureUrl": null
}