{
  "name": "zoomed_gyroid_screensaver",
  "prompt": "Imported Shader",
  "code": "/* PARAMS:\n[\n  {\"name\": \"speed\", \"label\": \"Fly Speed\", \"type\": \"float\", \"default\": 2.0, \"min\": 0.0, \"max\": 6.0},\n  {\"name\": \"scale\", \"label\": \"Grid Size\", \"type\": \"float\", \"default\": 2.0, \"min\": 0.5, \"max\": 5.0},\n  {\"name\": \"zoom\", \"label\": \"Field of View (Zoom)\", \"type\": \"float\", \"default\": 1.0, \"min\": 0.5, \"max\": 3.0},\n  {\"name\": \"blur\", \"label\": \"Motion Blur\", \"type\": \"float\", \"default\": 1.0, \"min\": 0.0, \"max\": 3.0},\n  {\"name\": \"lineWidth\", \"label\": \"Wire Width\", \"type\": \"float\", \"default\": 0.03, \"min\": 0.005, \"max\": 0.1},\n  {\"name\": \"alpha\", \"label\": \"Alpha/Bright\", \"type\": \"float\", \"default\": 1.5, \"min\": 0.1, \"max\": 3.0}\n]\n*/\n\nlayout(location = 0) out vec4 pc_fragColor;\nuniform float iTime;\nuniform vec2 iResolution;\nuniform vec4 iMouse;\n\nuniform float speed;\nuniform float scale;\nuniform float zoom;\nuniform float blur;\nuniform float lineWidth;\nuniform float alpha;\n\n#define MAX_STEPS 60\n#define MAX_DIST 40.0\n\nmat2 rot(float a) {\n    float s = sin(a);\n    float c = cos(a);\n    return mat2(c, -s, s, c);\n}\n\nfloat getGyroid(vec3 p) {\n    p *= scale;\n    return dot(sin(p), cos(p.yzx));\n}\n\nfloat map(vec3 p) {\n    float waveX = sin(p.z * 0.1) * 2.0;\n    float waveY = cos(p.z * 0.15) * 2.0;\n    p.x -= waveX;\n    p.y -= waveY;\n    float g = getGyroid(p);\n    return abs(g) / scale * 0.5;\n}\n\n// MAIN RAYMARCH FUNCTION\nvec3 render(vec2 uv) {\n    float zPos = iTime * speed;\n    vec3 ro = vec3(0.0, 0.0, zPos);\n    ro.x += sin(zPos * 0.1) * 2.0;\n    ro.y += cos(zPos * 0.15) * 2.0;\n    \n    vec3 ta = vec3(0.0, 0.0, zPos + 2.0);\n    ta.x += sin((zPos+2.0) * 0.1) * 2.0;\n    ta.y += cos((zPos+2.0) * 0.15) * 2.0;\n    \n    vec3 f = normalize(ta - ro);\n    vec3 r = normalize(cross(vec3(0,1,0),f));\n    vec3 u = cross(f,r);\n    \n    vec3 rd = normalize(f + r*uv.x/zoom + u*uv.y/zoom);\n    \n    if (iMouse.z > 0.0 || iMouse.x > 0.0) {\n        float mX = (iMouse.x / iResolution.x - 0.5) * 4.0;\n        float mY = (iMouse.y / iResolution.y - 0.5) * 2.0;\n        rd.xz *= rot(mX);\n        rd.yz *= rot(-mY);\n    }\n    \n    rd.xy *= rot(sin(zPos * 0.05) * 0.2);\n\n    float t = 0.0;\n    float acc = 0.0;\n    \n    for(int i = 0; i < MAX_STEPS; i++) {\n        vec3 p = ro + rd * t;\n        float d = map(p);\n        \n        float w = lineWidth;\n        float intensity = w / (abs(d) + 0.001);\n        intensity = min(intensity, 5.0);\n        \n        acc += intensity * 0.01 * alpha;\n        \n        t += max(abs(d) * 0.4, 0.02); \n        if(t > MAX_DIST) break;\n    }\n    \n    vec3 aqua = vec3(0.1, 1.0, 0.9);\n    vec3 blue = vec3(0.0, 0.2, 0.8);\n    vec3 col = mix(blue, aqua, clamp(acc * 0.5, 0.0, 1.0));\n    col *= acc; \n    col *= 1.0 / (1.0 + t * t * 0.005);\n    return col;\n}\n\nvoid main() {\n    vec2 uv = (gl_FragCoord.xy * 2.0 - iResolution.xy) / iResolution.y;\n    \n    // RENDER CENTER\n    vec3 col = render(uv);\n    \n    // RADIAL BLUR (Performance: only if blur > 0)\n    // We sample a few times moving outwards from center\n    if (blur > 0.1) {\n        float b = blur * length(uv) * 0.02; // Blur increases at edges\n        \n        // Simple 3-tap blur reuse\n        // Usually true motion blur requires accumulating render() calls\n        // which is expensive. Here we cheat by blurring the TEXTURE space\n        // which isn't possible in a single shader cleanly without multipass.\n        // Instead, we just jitter the uv slightly? No, that looks noisy. \n        // We will do a cheap Chromatic Aberration style blur.\n        \n        vec3 c2 = render(uv * (1.0 - b)); // Sample slightly zoomed out\n        vec3 c3 = render(uv * (1.0 + b)); // Sample slightly zoomed in\n        \n        col = (col + c2 + c3) / 3.0;\n    }\n    \n    pc_fragColor = vec4(col, 1.0);\n}",
  "parameters": [
    {
      "name": "speed",
      "label": "Fly Speed",
      "type": "float",
      "default": 0.12,
      "min": 0,
      "max": 6
    },
    {
      "name": "scale",
      "label": "Grid Size",
      "type": "float",
      "default": 0.95,
      "min": 0.5,
      "max": 5
    },
    {
      "name": "zoom",
      "label": "Field of View (Zoom)",
      "type": "float",
      "default": 1.5,
      "min": 0.5,
      "max": 3
    },
    {
      "name": "blur",
      "label": "Motion Blur",
      "type": "float",
      "default": 2.91,
      "min": 0,
      "max": 3
    },
    {
      "name": "lineWidth",
      "label": "Wire Width",
      "type": "float",
      "default": 0.03445,
      "min": 0.005,
      "max": 0.1
    },
    {
      "name": "alpha",
      "label": "Alpha/Bright",
      "type": "float",
      "default": 0.767,
      "min": 0.1,
      "max": 3
    }
  ],
  "textureUrl": null,
  "snapshot": "data:image/jpeg;base64,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"
}