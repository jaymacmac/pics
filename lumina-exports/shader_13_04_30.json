{
  "name": "Shader-13:04:30",
  "prompt": "Procedural Shader Snapshot",
  "code": "/**\n * Bioluminescent Dreamscape - A Surreal Raymarched Journey\n * \n * Features:\n * - Volumetric fog and glow\n * - Dynamic bioluminescent \"organic\" structures using SDF displacement\n * - Parallel rail camera system for cinematic fly-through\n * - Fractal Brownian Motion (FBM) for nebulous backgrounds\n */\n\n\n\nuniform float iTime;\nuniform vec2 iResolution;\nuniform vec4 iMouse;\nuniform sampler2D iChannel0;\n\n// User defined uniforms via JSON\nuniform float u_speed;\nuniform float u_camera_dist;\nuniform float u_fov;\nuniform float u_glow_intensity;\n\nout vec4 fragColor;\n\n// --- UTILS ---\nmat2 rot(float a) {\n    float s = sin(a), c = cos(a);\n    return mat2(c, -s, s, c);\n}\n\nfloat hash(vec3 p) {\n    p = fract(p * 0.1031);\n    p += dot(p, p.yzx + 33.33);\n    return fract((p.x + p.y) * p.z);\n}\n\nfloat noise(vec3 p) {\n    vec3 i = floor(p);\n    vec3 f = fract(p);\n    f = f * f * (3.0 - 2.0 * f);\n    return mix(mix(mix(hash(i + vec3(0, 0, 0)), hash(i + vec3(1, 0, 0)), f.x),\n                   mix(hash(i + vec3(0, 1, 0)), hash(i + vec3(1, 1, 0)), f.x), f.y),\n               mix(mix(hash(i + vec3(0, 0, 1)), hash(i + vec3(1, 0, 1)), f.x),\n                   mix(hash(i + vec3(0, 1, 1)), hash(i + vec3(1, 1, 1)), f.x), f.y), f.z);\n}\n\nfloat fbm(vec3 p) {\n    float v = 0.0;\n    float a = 0.5;\n    for (int i = 0; i < 4; i++) {\n        v += a * noise(p);\n        p *= 2.0;\n        a *= 0.5;\n    }\n    return v;\n}\n\n// --- WORLD PATH ---\nvec2 getPath(float z) {\n    return vec2(sin(z * 0.15), cos(z * 0.1)) * 3.5;\n}\n\n// --- SDFs ---\nfloat sdCapsule(vec3 p, vec3 a, vec3 b, float r) {\n    vec3 pa = p - a, ba = b - a;\n    float h = clamp(dot(pa, ba) / dot(ba, ba), 0.0, 1.0);\n    return length(pa - ba * h) - r;\n}\n\nfloat map(vec3 p) {\n    vec2 path = getPath(p.z);\n    p.xy -= path;\n    \n    // Create organic \"rib\" structures\n    float z_idx = floor(p.z * 0.5);\n    vec3 p_mod = p;\n    p_mod.z = mod(p_mod.z, 2.0) - 1.0;\n    \n    // Rotate each rib for dreamlike spiral\n    p_mod.xy *= rot(p.z * 0.3 + iTime * 0.2);\n    \n    // Main bioluminescent vine\n    float vine = length(p_mod.xy + vec2(sin(p.z), cos(p.z)) * 0.5) - 0.15;\n    \n    // Abstract floating spores\n    float spores = length(mod(p + 2.0, 4.0) - 2.0) - 0.05;\n    spores -= noise(p * 2.0 + iTime) * 0.1;\n    \n    // Adding displacement for \"organic\" feel\n    float displacement = sin(p.x * 5.0 + iTime) * sin(p.y * 5.0) * sin(p.z * 2.0) * 0.1;\n    \n    return min(vine, spores) + displacement;\n}\n\n// --- RAYMARCHING ---\nvoid main() {\n    vec2 uv = (gl_FragCoord.xy - 0.5 * iResolution.xy) / iResolution.y;\n    float time = iTime * u_speed;\n    \n    // 1. PATH POSITIONING\n    vec3 pathPos = vec3(0.0, 0.0, time);\n    pathPos.xy += getPath(pathPos.z);\n    \n    // 2. PARALLEL RAIL CAMERA\n    float railRadius = u_camera_dist;\n    vec2 railAngle = vec2(cos(time * 0.2), sin(time * 0.2)) * railRadius;\n    \n    vec3 ro = pathPos;\n    ro.xy += railAngle;\n    \n    // Target moves ahead but stays on a similar rail offset to keep subject in view\n    vec3 ta = vec3(0.0, 0.0, time + 6.0);\n    ta.xy += getPath(ta.z) + railAngle * 0.7; // 0.7 makes it look slightly towards the center\n    \n    // Camera Transform\n    vec3 cw = normalize(ta - ro);\n    vec3 cp = vec3(0.0, 1.0, 0.0);\n    vec3 cu = normalize(cross(cw, cp));\n    vec3 cv = normalize(cross(cu, cw));\n    vec3 rd = normalize(uv.x * cu + uv.y * cv + u_fov * cw);\n    \n    // 3. MARCHING\n    float t = 0.0;\n    float glow = 0.0;\n    vec3 col = vec3(0.0);\n    \n    for(int i = 0; i < 80; i++) {\n        vec3 p = ro + rd * t;\n        float d = map(p);\n        \n        // Accumulate glow (bioluminescence)\n        // Shorter distance to surface = more glow\n        glow += exp(-d * 4.0) * u_glow_intensity;\n        \n        if(d < 0.001 || t > 40.0) break;\n        t += d * 0.6; // Step a bit slower for smoother glow\n    }\n    \n    // 4. COLORING\n    // Deep sea / space blue base\n    vec3 skyCol = vec3(0.02, 0.04, 0.1) * (1.0 - length(uv));\n    \n    // Bioluminescent palette: Cyan, Teal, Magenta\n    vec3 glowCol = mix(vec3(0.0, 1.0, 0.8), vec3(0.6, 0.2, 1.0), sin(time * 0.5) * 0.5 + 0.5);\n    glowCol *= glow * 0.15;\n    \n    // Final shading\n    col = skyCol + glowCol;\n    \n    // Volumetric scattering approximation\n    col += vec3(0.1, 0.15, 0.2) * (t * 0.02);\n    \n    // Atmosphere/Fog\n    col = mix(col, skyCol, 1.0 - exp(-0.05 * t));\n    \n    // Subtle film grain\n    col += (hash(vec3(uv, iTime)) - 0.5) * 0.02;\n    \n    // Tone mapping and Gamma\n    col = smoothstep(0.0, 1.1, col);\n    col = pow(col, vec3(0.4545));\n\n    fragColor = vec4(col, 1.0);\n}",
  "parameters": [
    {
      "name": "u_speed",
      "label": "Fly Speed",
      "type": "float",
      "default": 1.5,
      "min": 0,
      "max": 5
    },
    {
      "name": "u_camera_dist",
      "label": "Orbit Distance",
      "type": "float",
      "default": 6,
      "min": 2,
      "max": 10
    },
    {
      "name": "u_fov",
      "label": "FOV",
      "type": "float",
      "default": 1.2,
      "min": 0.5,
      "max": 2.5
    },
    {
      "name": "u_glow_intensity",
      "label": "Bioluminescence",
      "type": "float",
      "default": 0.5,
      "min": 0.1,
      "max": 1.5
    }
  ],
  "textureUrl": null
}